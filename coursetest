import java.util.ArrayList;
import java.util.List;
import java.util.stream.Collectors;

public class CourseManager {

    private List<Course> courses;

    public CourseManager() {
        courses = new ArrayList<>();
    }

    // Create course
    public void createCourse(Course course) {
        courses.add(course);
    }

    // Update course
    public boolean updateCourse(String courseCode, String name,
                                String department, String instructor,
                                int credits, int capacity) {

        Course course = getCourseByCode(courseCode);
        if (course == null) {
            return false;
        }

        course.updateCourse(name, department, instructor, credits, capacity);
        return true;
    }

    // Delete course
    public boolean deleteCourse(String courseCode) {
        Course course = getCourseByCode(courseCode);
        if (course == null) {
            return false;
        }
        return courses.remove(course);
    }

    // Get course by code
    public Course getCourseByCode(String courseCode) {
        for (Course course : courses) {
            if (course.getCourseCode().equalsIgnoreCase(courseCode)) {
                return course;
            }
        }
        return null;
    }

    // Get all courses
    public List<Course> getAllCourses() {
        return courses;
    }

    // Filter by department
    public List<Course> filterCoursesByDepartment(String department) {
        return courses.stream()
                .filter(c -> c.getDepartment().equalsIgnoreCase(department))
                .collect(Collectors.toList());
    }

    // Filter by instructor
    public List<Course> filterCoursesByInstructor(String instructor) {
        return courses.stream()
                .filter(c -> c.getInstructor().equalsIgnoreCase(instructor))
                .collect(Collectors.toList());
    }
}
